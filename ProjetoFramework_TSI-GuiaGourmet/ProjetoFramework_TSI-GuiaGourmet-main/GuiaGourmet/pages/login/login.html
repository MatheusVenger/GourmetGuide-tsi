<!DOCTYPE html>
<html>
  <head>
      <title>Login</title>
      <meta name="viewport" content="width=device-width,initial-scale=1.0">
      <link rel="stylesheet" href="/GuiaGourmet/pages/mainpage/main.css">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
     <style>
       body{
         background-color: #f0f0f0;
       }
     
       .progress{
         width:50%;
         margin:0 auto;
         margin-top:20%;
       }
       
       @media only screen and (max-width:924px){
            .progress{
               width:70%;
               margin:0 auto;
               margin-top:60%;
             }
       }
    
     </style>
  </head>
  
  <body>
    
    <!-- espaçamento -->
 <section class="espaco">
    <div class="row container">
        <div class="col s12">
            <h3> </h3>
        </div>
    </div>
 </section>
 <!-- espaçamento -->
 <section class="espaco">
    <div class="row container">
        <div class="col s12">
            <h3> </h3>
        </div>
    </div>
 </section>
 
  
 
 <!-- cadastro -->
    <section class="cadatro">
     <div id="flayer">
          <div id="slayer">
    
    <div class="container" id="content">
        
       
        <div class="row">
          <div class="col l3 m3 s12"></div>
          <div class="col l6 m6 s12">
            <form id="registrationForm">
                 <div class="card-panel z-depth-5">
                  <h5 class="center">Cadastre-se</h5>
                  <p class="center">Conheça os melhores do Mundo!</p>
                   <div class="input-field">
                    <i class="material-icons prefix">account_circle</i>
                    <input type="text" name="nome" id="input-nome" class="form-control input" pattern="[a-zA-ZÀ-ÿ\s]+" required autofocus>
                    <span class="erro" id="erro-nome"></span>

                    <label for="nome">Enter username</label>
                  </div>
                  
                   <div class="input-field">
                    <i class="material-icons prefix">email</i>
                    <input type="email" id="registerEmail" name="email" required>
                    <span class="error" id="registerEmailError"></span><br><br>

                    <label for="registerEmail">Enter email</label>
                  </div>
                  
                   <div class="input-field">
                    <i class="material-icons prefix">lock</i>
                    <input type="password" id="registerPassword" name="password" required minlength="6">
                    <span class="error" id="registerPasswordError"></span><br><br>

                    <label for="registerPassword">Enter password</label>
                  </div>
                  
                    
                   <div class="input-field">
                    <i class="material-icons prefix">vpn_key</i>
                    <input type="password" id="confirmPassword" name="confirmPassword" required minlength="6">
                    <span class="error" id="confirmPasswordError"></span><br><br>
                    
                    <label for="confirmPassword">Confirm password</label>
                  </div>
                  <p class="right">Já possui uma conta? <a href="#login" class="modal-trigger">login</a></p>
                  <button class="btn left col s12 red darken-4" type="submit">Cadastre-se</button>
                  <span class="success" id="registrationSuccess"></span>
                  <div class="clearfix"></div>
               </div>
            </form>
            
          </div>
            <div class="col l3 m3 s12"></div>
      
          
          
            </div>
        </div>
     </div>
 </div>
</section>
      
          <!-- login -->
    <section class="login">
        <div class="modal modal-fixed-footer" id="login">
          <form id="loginForm">
             <div class="modal-conent">
              <div class="container">
                    <h5 class="center">Login</h5>
                  <p class="center">Bem vindo de volta!</p>
                  <div class="row">
                  
                    <div class="col m12 s12">
                      <div class="input-field">
                    <i class="material-icons prefix">person</i>
                    <input type="email" id="loginEmail" name="email" required>
                    <span class="error" id="loginEmailError"></span><br><br>
                    <label for="loginEmail">Enter email</label>
                  </div>
                  
                  <div class="input-field">
                    <i class="material-icons prefix">lock</i>
                    <input type="password" id="loginPassword" name="password" required minlength="6">
                    <span class="error" id="loginPasswordError"></span><br><br>
                    <label  for="loginPassword">Enter password</label>
                  </div>
                  <p>
                    <label>
                      <input type="checkbox">
                      <span>Remember me</span>
                    </label>
                  </p>
                    </div>
                    
                  </div>
              </div>
            </div>
            
            <div class="modal-footer">
                  <div class="container">
                
                      
                         <p class="left">Novo aqui? <a href="/ProjetoFramework_TSI-GuiaGourmet-main/GuiaGourmet/pages/login/login.html" class="modal-trigger">Cadastre-se</a></p>
                         <button class="btn pulse grey lighten-4 black-text" type="submit"><a href="/ProjetoFramework_TSI-GuiaGourmet-main/GuiaGourmet/pages/mainpage/main.html" class="black-text">Entrar</a></button>
                         <span class="success" id="loginSuccess"></span>
                          <input type="button"  value="close" class="btn modal-close red darken-4">
                      </div>
     
               
                 
                  </div>
            </div>
         </form>
      </div>
</section>
    


    
    <section class="js">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
         <script>
    
      const login = document.querySelectorAll(".modal");
      M.Modal.init(login,{
        opacity:0.7,
        dismissible:false
      });
      
      document.querySelector("#content").style.display="none";
      document.querySelector("#flayer").classList.add("progress");
      document.querySelector("#slayer").classList.add("indeterminate");
      
      setTimeout(function(){
          document.querySelector("#flayer").classList.remove("progress");
          document.querySelector("#slayer").classList.remove("indeterminate");
          document.querySelector("#content").style.display="block";
      },3000);

       // Validação login
    document.getElementById('loginForm').addEventListener('submit', function(event) {
      event.preventDefault();
      let valid = true;
      document.getElementById('loginEmailError').textContent = '';
      document.getElementById('loginPasswordError').textContent = '';
      document.getElementById('loginSuccess').textContent = '';

      const loginEmail = document.getElementById('loginEmail').value;
      const loginPassword = document.getElementById('loginPassword').value;

      if (!loginEmail) {
        document.getElementById('loginEmailError').textContent = 'Preencimento obrigatório';
        valid = false;
      }

      if (loginPassword.length < 6) {
        document.getElementById('loginPasswordError').textContent = 'Senha precisa ter no mínimo 6 caracteres';
        valid = false;
      }

      if (valid) {
        document.getElementById('loginSuccess').textContent = 'sucesso';
      }
    });

    // validação cadastro
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
      event.preventDefault();
      let valid = true;
      document.getElementById('registerEmailError').textContent = '';
      document.getElementById('registerPasswordError').textContent = '';
      document.getElementById('confirmPasswordError').textContent = '';
      document.getElementById('registrationSuccess').textContent = '';

      const registerEmail = document.getElementById('registerEmail').value;
      const registerPassword = document.getElementById('registerPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;

      if (!registerEmail) {
        document.getElementById('registerEmailError').textContent = 'Preenchimento obrigatório';
        valid = false;
      }

      if (registerPassword.length < 6) {
        document.getElementById('registerPasswordError').textContent = 'Senha precisa ter no mínimo 6 caracteres';
        valid = false;
      }

      if (registerPassword !== confirmPassword) {
        document.getElementById('confirmPasswordError').textContent = 'Senhas não conferem';
        valid = false;
      }

      if (valid) {
        localStorage.setItem('userData', JSON.stringify({ email: registerEmail, password: registerPassword }));
        document.getElementById('registrationSuccess').textContent = 'Usuário cadastrado!';
      }
    });

    </script>
</section>  




</body>
</html>